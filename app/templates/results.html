{% extends "base.html" %}


{% block container %}

<div class="container">
  <div class="row">
    <div class="col-md-12">
        <form class="form-inline">
          <div class="form-group">
            <input id="input" type="text" name="search" class="form-control col-md-8" placeholder="Character name - Movie name" style="width:500px;">
          </div>
          <button type="submit" class="btn btn-info"> Go! </button>
        </form>        

      
      <div class="col-md-12">


        <!-- Left side or results -->
        <div class="col-md-8">
          
          {% for d in data %}
            
          <div class="card col-md-12">

            <h3 class="card-title">
              <i class="fa fa-user-circle"></i>&nbsp;
              {{ d['character_name'] }}
            </h3>
            <br>
            <h4 class="card-subtitle capitalize">
              <i class="fa fa-tv"></i>&nbsp;
              {{ d['movie_title'] }} ({{ d['movie_year'] }})
            </h4>

            <br>
            <div class="el">
              <i class="fa fa-plus-square"></i>&nbsp;
              <span class="e-t">Rating</span>&nbsp;
              {{ d['rating'] }}
            </div>

            <div class="el">
              <i class="fa fa-tags"></i>&nbsp;
              <span class="e-t">Genres</span>&nbsp;
              {{ d['genres'] }}
            </div>

            {% if d['gender'] == "m" %}
            <div class="el">
              <i class="fa fa-male"></i>&nbsp;
              <span class="e-t">Gender</span>&nbsp;
                  {{ d['gender'] }}
            </div>
            {% endif %}

            {% if d['gender'] == "f" %}
            <div class="el">
              <i class="fa fa-female"></i>&nbsp;
              <span class="e-t">Gender</span>&nbsp;
              {{ d['gender'] }}
            </div>
            {% endif %}
            
            <div class="el">
              <i class="fa fa-thumbs-up"></i>&nbsp;
              <span class="e-t">Votes</span>&nbsp;
              {{ d['votes'] }}
            </div>
          </div>

          {% endfor %}
        </div> <!-- End of left side -->


        <!-- Right side or Query info -->
        <div class="col-md-4">
          <div class="card col-md-4 capitalize" style="border-color: #5bc0de; position:fixed;">
            <h3 class="card-title">
              <i class="fa fa-user-circle"></i>&nbsp;
              {{ query['character_name'] }}
            </h3>
            <br>
            <h4 class="card-subtitle capitalize">
              <i class="fa fa-tv"></i>&nbsp;
              {{ query['movie_title'] }} ({{ query['movie_year'] }})
            </h4>
            <br>

            <div class="el">
              <i class="fa fa-plus-square"></i>&nbsp;
              <span class="e-t">Rating</span>&nbsp;
              {{ query['rating'] }}
            </div>

            <div class="el">
              <i class="fa fa-tags"></i>&nbsp;
              <span class="e-t">Genres</span>&nbsp;
              {{ query['genres'] }}
            </div>
            

            {% if query['gender'] == "m" %}
            <div class="el">
              <i class="fa fa-male"></i>&nbsp;
              <span class="e-t">Gender</span>&nbsp;
              {{ query['gender'] }}
            </div>
            {% endif %}
            
            {% if query['query'] == "f" %}
            <div class="el">
              <i class="fa fa-female"></i>&nbsp;
              <span class="e-t">Gender</span>&nbsp;
              {{ query['gender'] }}
            </div>
            {% endif %}

            <div class="el">
              <i class="fa fa-thumbs-up"></i>&nbsp;
              <span class="e-t">Votes</span>&nbsp;
              {{ query['votes'] }}
            </div>
            </div>
        </div><!-- End of right side -->


      </div>
      
    </div>
  </div>
</div>

<script>
    var options = {
        url: "/static/characters.json",          
        getValue: "display",
        list: {
            maxNumberOfElements: 15,
            sort: true,
            match: {
                enabled: true
            },
            showAnimation: {
                type: "slide", //normal|slide|fade
			time: 100,
			callback: function() {}
	    },

	    hideAnimation: {
	        type: "normal", //normal|slide|fade
		time: 400,
		callback: function() {}
	    }
        },
        placeholder: "Type character followed by movie name",
        
        theme: "blue-light",
        template: {
            type: "description",
            fields: {
                description: "movie_title"
            }
        }          
    };

$('#input').easyAutocomplete(options);

</script>



{% endblock %}
